<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>첸토 스위치 도우미 🎲</title>
  <style>
    :root{--bg:#0f1724;--card:#0b1220;--muted:#9aa4b2;--accent:#7dd3fc}
    body{font-family:Inter,Roboto,Segoe UI,Arial;margin:0;background:linear-gradient(180deg,#071026 0%,#07121a 100%);color:#e6eef6}
    .wrap{max-width:980px;margin:36px auto;padding:28px;border-radius:12px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));box-shadow:0 8px 30px rgba(2,6,23,0.6)}
    h1{margin:0 0 8px;font-size:20px}
    p.lead{margin:0 0 18px;color:var(--muted)}
    .grid{display:grid;grid-template-columns:1fr 380px;gap:18px}
    label{display:block;font-size:13px;margin-bottom:6px;color:var(--muted)}
    input{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:rgba(255,255,255,0.02);color:inherit;font-size:14px;text-align:center}
    .controls{display:flex;gap:8px;margin-top:12px}
    button{background:var(--accent);border:none;padding:10px 12px;border-radius:8px;color:#04202b;font-weight:600;cursor:pointer}
    .muted{color:var(--muted);font-size:13px}
    .output{margin-top:12px;padding:12px;border-radius:10px;background:rgba(0,0,0,0.2)}
    .board{display:grid;grid-template-columns:repeat(5,1fr);gap:8px;margin-top:12px}
    .slot input{width:100%;height:60px;font-size:18px;font-weight:600;border-radius:8px}
    pre{background:#020617;padding:12px;border-radius:8px;overflow:auto;color:#cde}
    .small{font-size:13px}
    .warn{color:#ffd47a}
    .ok{color:#7efc9d}
    @media(max-width:880px){.grid{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <div class="wrap">
    <h1>첸토 스위치 도우미 🎲</h1>
    <p class="lead">10장의 카드를 오름차순으로 맞추는 게임 <b>첸토 스위치</b>에서, 새로 뽑은 카드를 어디에 넣는 게 최적인지 추천해주는 시뮬레이터입니다. 오른쪽에는 원본 Python 코드(참고용)가 함께 나와 있어요. 실제 실행은 JavaScript 기반입니다.</p>

    <div class="grid">
      <!-- 왼쪽: 실행 UI -->
      <div>
        <label>현재 카드 상태 (빈 칸은 비워두세요)</label>
        <div class="board">
          <div class="slot"><input id="c0" placeholder="?" /></div>
          <div class="slot"><input id="c1" placeholder="?" /></div>
          <div class="slot"><input id="c2" placeholder="?" /></div>
          <div class="slot"><input id="c3" placeholder="?" /></div>
          <div class="slot"><input id="c4" placeholder="?" /></div>
          <div class="slot"><input id="c5" placeholder="?" /></div>
          <div class="slot"><input id="c6" placeholder="?" /></div>
          <div class="slot"><input id="c7" placeholder="?" /></div>
          <div class="slot"><input id="c8" placeholder="?" /></div>
          <div class="slot"><input id="c9" placeholder="?" /></div>
        </div>

        <label style="margin-top:12px">새 카드</label>
        <input id="newCard" type="number" placeholder="숫자 입력" />

        <div class="controls">
          <button id="runBtn">추천받기</button>
          <button id="clearBtn" style="background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted)">지우기</button>
        </div>

        <div id="result" class="output">추천 결과가 여기에 표시됩니다.</div>
      </div>

      <!-- 오른쪽: 코드 설명 -->
      <div>
        <label>설명 & 파이썬 원본 코드</label>
        <div style="padding:10px;border-radius:8px;background:rgba(255,255,255,0.02);height:100%;overflow:auto">
          <p class="muted small">아래는 이 도우미가 따르는 원리의 Python 코드입니다. 실제 웹에서는 동일한 로직을 <b>JavaScript</b>로 구현하여 실행합니다.</p>
<pre>def best_move(cards, new_card):
    candidates = []
    for i in range(len(cards)):
        if cards[i] is None:
            left = cards[i-1] if i > 0 and cards[i-1] is not None else -float("inf")
            right = cards[i+1] if i < len(cards)-1 and cards[i+1] is not None else float("inf")
            if left < new_card < right:
                gap = min(new_card - left, right - new_card)
                candidates.append((gap, i))
    if candidates:
        best_pos = min(candidates)[1]
        return f"새 카드 {new_card} → {best_pos+1}번째 자리에 교체하세요"
    else:
        return f"새 카드 {new_card}는 어디에도 맞지 않습니다. 버리세요."
</pre>
        </div>
      </div>
    </div>
  </div>

  <script>
    function bestMove(cards,newCard){
      const candidates=[];
      for(let i=0;i<cards.length;i++){
        if(cards[i]===null){
          const left = i>0 && cards[i-1]!==null ? cards[i-1] : -Infinity;
          const right= i<cards.length-1 && cards[i+1]!==null ? cards[i+1] : Infinity;
          if(left<newCard && newCard<right){
            const gap=Math.min(newCard-left,right-newCard);
            candidates.push([gap,i]);
          }
        }
      }
      if(candidates.length){
        candidates.sort((a,b)=>a[0]-b[0]);
        const pos=candidates[0][1];
        return `새 카드 ${newCard} → ${pos+1}번째 자리에 교체하세요`;
      }
      return `새 카드 ${newCard}는 어디에도 맞지 않습니다. 버리세요.`;
    }

    const runBtn=document.getElementById('runBtn');
    const clearBtn=document.getElementById('clearBtn');
    const result=document.getElementById('result');

    runBtn.addEventListener('click',()=>{
      const cards=[];
      for(let i=0;i<10;i++){
        const val=document.getElementById('c'+i).value.trim();
        cards.push(val?parseInt(val):null);
      }
      const newCard=parseInt(document.getElementById('newCard').value);
      if(isNaN(newCard)){ result.innerHTML='<span class="warn">새 카드를 입력하세요.</span>'; return; }
      result.textContent=bestMove(cards,newCard);
    });

    clearBtn.addEventListener('click',()=>{
      for(let i=0;i<10;i++){ document.getElementById('c'+i).value=''; }
      document.getElementById('newCard').value='';
      result.textContent='추천 결과가 여기에 표시됩니다.';
    });
  </script>
</body>
</html>
